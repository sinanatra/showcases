import{s as pt,n as q,d as v,p as L,b as P,i as W,q as i,f as p,h as b,t as G,v as _,H as F,X as Gt,j as $,w as K,x as d,Y as Kt,z as ot,y as Nt,F as Rt,o as Ot}from"../chunks/7zwduY7e.js";import{S as $t,i as vt,t as D,a as y,g as jt,c as At,d as I,m as H,e as z,b as B}from"../chunks/D_8M7GTZ.js";import{c as Mt}from"../chunks/CKvn6CDR.js";import{f as Lt,a as Pt}from"../chunks/Bq54tBkh.js";import{D as Ft,K as It,G as Ht,T as zt}from"../chunks/C5lsure-.js";import{e as Tt}from"../chunks/D6YF6ztN.js";const Bt=!0,ce=Object.freeze(Object.defineProperty({__proto__:null,prerender:Bt},Symbol.toStringTag,{value:"Module"}));function qt(o){let t,r,e=o[0].Title+"",n,c,a,s,l="Date:",u,h=o[0].ExtractedDate+"",x,k,f,C="Time:",E,U=o[0].ExtractedTime.join(", ")+"",Z,it,w,R,xt="District:",ct,V=o[0].ExtractedDistrict+"",tt,ft,O,Et="Gender:",ut,J=o[0].ExtractedGender.join(", ")+"",et,mt,A,M,wt="Keywords:",_t,X=o[0].KeywordMatch.join(", ")+"",rt,dt,Y,Q,nt=bt(o[0].Text,o[1])+"",ht,T,gt,at;return{c(){t=$("article"),r=$("h2"),n=K(e),c=d(),a=$("p"),s=$("strong"),s.textContent=l,u=d(),x=K(h),k=d(),f=$("strong"),f.textContent=C,E=d(),Z=K(U),it=d(),w=$("p"),R=$("strong"),R.textContent=xt,ct=d(),tt=K(V),ft=d(),O=$("strong"),O.textContent=Et,ut=d(),et=K(J),mt=d(),A=$("p"),M=$("strong"),M.textContent=wt,_t=d(),rt=K(X),dt=d(),Y=$("div"),Q=new Kt(!1),ht=d(),T=$("a"),gt=K("Source"),this.h()},l(g){t=p(g,"ARTICLE",{class:!0});var m=b(t);r=p(m,"H2",{});var yt=b(r);n=G(yt,e),yt.forEach(v),c=_(m),a=p(m,"P",{});var S=b(a);s=p(S,"STRONG",{"data-svelte-h":!0}),F(s)!=="svelte-cxiy68"&&(s.textContent=l),u=_(S),x=G(S,h),k=_(S),f=p(S,"STRONG",{"data-svelte-h":!0}),F(f)!=="svelte-ox4cyx"&&(f.textContent=C),E=_(S),Z=G(S,U),S.forEach(v),it=_(m),w=p(m,"P",{});var j=b(w);R=p(j,"STRONG",{"data-svelte-h":!0}),F(R)!=="svelte-1lmnfje"&&(R.textContent=xt),ct=_(j),tt=G(j,V),ft=_(j),O=p(j,"STRONG",{"data-svelte-h":!0}),F(O)!=="svelte-ah8i3p"&&(O.textContent=Et),ut=_(j),et=G(j,J),j.forEach(v),mt=_(m),A=p(m,"P",{});var lt=b(A);M=p(lt,"STRONG",{"data-svelte-h":!0}),F(M)!=="svelte-1cgjf6c"&&(M.textContent=wt),_t=_(lt),rt=G(lt,X),lt.forEach(v),dt=_(m),Y=p(m,"DIV",{});var Dt=b(Y);Q=Gt(Dt,!1),Dt.forEach(v),ht=_(m),T=p(m,"A",{href:!0,target:!0,rel:!0});var Ct=b(T);gt=G(Ct,"Source"),Ct.forEach(v),m.forEach(v),this.h()},h(){Q.a=null,P(T,"href",at=o[0].URL),P(T,"target","_blank"),P(T,"rel","noopener"),P(t,"class","polizei svelte-h4p151")},m(g,m){W(g,t,m),i(t,r),i(r,n),i(t,c),i(t,a),i(a,s),i(a,u),i(a,x),i(a,k),i(a,f),i(a,E),i(a,Z),i(t,it),i(t,w),i(w,R),i(w,ct),i(w,tt),i(w,ft),i(w,O),i(w,ut),i(w,et),i(t,mt),i(t,A),i(A,M),i(A,_t),i(A,rt),i(t,dt),i(t,Y),Q.m(nt,Y),i(t,ht),i(t,T),i(T,gt)},p(g,[m]){m&1&&e!==(e=g[0].Title+"")&&L(n,e),m&1&&h!==(h=g[0].ExtractedDate+"")&&L(x,h),m&1&&U!==(U=g[0].ExtractedTime.join(", ")+"")&&L(Z,U),m&1&&V!==(V=g[0].ExtractedDistrict+"")&&L(tt,V),m&1&&J!==(J=g[0].ExtractedGender.join(", ")+"")&&L(et,J),m&1&&X!==(X=g[0].KeywordMatch.join(", ")+"")&&L(rt,X),m&1&&nt!==(nt=bt(g[0].Text,g[1])+"")&&Q.p(nt),m&1&&at!==(at=g[0].URL)&&P(T,"href",at)},i:q,o:q,d(g){g&&v(t)}}}function Ut(o){return o.match(/[^\\.?!]+[\\.?!]+/g)||[o]}function bt(o,t){let r=o;return t.forEach(e=>{const n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),c=new RegExp(`(${n})`,"gi");r=r.replace(c,'<span class="highlight">$1</span>')}),r}function Vt(o,t,r){let{article:e}=t;const n=e.KeywordExtracted||[];return Ut(e.Text).filter(s=>n.some(l=>new RegExp(l,"i").test(s))).join(" "),o.$$set=s=>{"article"in s&&r(0,e=s.article)},[e,n]}class Jt extends $t{constructor(t){super(),vt(this,t,Vt,qt,pt,{article:0})}}function kt(o,t,r){const e=o.slice();return e[4]=t[r],e}function Xt(o){let t,r,e=Tt(o[0].sort(o[2])),n=[];for(let a=0;a<e.length;a+=1)n[a]=St(kt(o,e,a));const c=a=>D(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=ot()},l(a){for(let s=0;s<n.length;s+=1)n[s].l(a);t=ot()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);W(a,t,s),r=!0},p(a,s){if(s&1){e=Tt(a[0].sort(a[2]));let l;for(l=0;l<e.length;l+=1){const u=kt(a,e,l);n[l]?(n[l].p(u,s),y(n[l],1)):(n[l]=St(u),n[l].c(),y(n[l],1),n[l].m(t.parentNode,t))}for(jt(),l=e.length;l<n.length;l+=1)c(l);At()}},i(a){if(!r){for(let s=0;s<e.length;s+=1)y(n[s]);r=!0}},o(a){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)D(n[s]);r=!1},d(a){a&&v(t),Rt(n,a)}}}function Yt(o){let t,r="No articles match the selected filters.";return{c(){t=$("p"),t.textContent=r},l(e){t=p(e,"P",{"data-svelte-h":!0}),F(t)!=="svelte-1fy3yok"&&(t.textContent=r)},m(e,n){W(e,t,n)},p:q,i:q,o:q,d(e){e&&v(t)}}}function St(o){let t,r;return t=new Jt({props:{article:o[4]}}),{c(){B(t.$$.fragment)},l(e){z(t.$$.fragment,e)},m(e,n){H(t,e,n),r=!0},p(e,n){const c={};n&1&&(c.article=e[4]),t.$set(c)},i(e){r||(y(t.$$.fragment,e),r=!0)},o(e){D(t.$$.fragment,e),r=!1},d(e){I(t,e)}}}function Qt(o){let t,r,e,n;const c=[Yt,Xt],a=[];function s(l,u){return l[0].length===0?0:1}return t=s(o),r=a[t]=c[t](o),{c(){r.c(),e=ot()},l(l){r.l(l),e=ot()},m(l,u){a[t].m(l,u),W(l,e,u),n=!0},p(l,[u]){let h=t;t=s(l),t===h?a[t].p(l,u):(jt(),D(a[h],1,1,()=>{a[h]=null}),At(),r=a[t],r?r.p(l,u):(r=a[t]=c[t](l),r.c()),y(r,1),r.m(e.parentNode,e))},i(l){n||(y(r),n=!0)},o(l){D(r),n=!1},d(l){l&&v(e),a[t].d(l)}}}let Wt="01.01.2024";function st(o){if(!o)return new Date(0);const[t,r,e]=o.split(".");return new Date(+e,+r-1,+t)}function Zt(o,t,r){let e,n;Nt(o,Lt,s=>r(1,n=s));let c=st(Wt);const a=(s,l)=>st(l.Date)-st(s.Date);return o.$$.update=()=>{o.$$.dirty&2&&r(0,e=n.filter(s=>st(s.Date)>=c))},[e,n,a]}class te extends $t{constructor(t){super(),vt(this,t,Zt,Qt,pt,{})}}function ee(o){let t,r,e,n,c,a,s,l,u,h,x,k;return e=new Ft({}),c=new It({}),s=new Ht({}),u=new zt({}),x=new te({}),{c(){t=$("main"),r=$("div"),B(e.$$.fragment),n=d(),B(c.$$.fragment),a=d(),B(s.$$.fragment),l=d(),B(u.$$.fragment),h=d(),B(x.$$.fragment),this.h()},l(f){t=p(f,"MAIN",{});var C=b(t);r=p(C,"DIV",{class:!0});var E=b(r);z(e.$$.fragment,E),n=_(E),z(c.$$.fragment,E),a=_(E),z(s.$$.fragment,E),l=_(E),z(u.$$.fragment,E),E.forEach(v),h=_(C),z(x.$$.fragment,C),C.forEach(v),this.h()},h(){P(r,"class","filters svelte-ta5ay6")},m(f,C){W(f,t,C),i(t,r),H(e,r,null),i(r,n),H(c,r,null),i(r,a),H(s,r,null),i(r,l),H(u,r,null),i(t,h),H(x,t,null),k=!0},p:q,i(f){k||(y(e.$$.fragment,f),y(c.$$.fragment,f),y(s.$$.fragment,f),y(u.$$.fragment,f),y(x.$$.fragment,f),k=!0)},o(f){D(e.$$.fragment,f),D(c.$$.fragment,f),D(s.$$.fragment,f),D(u.$$.fragment,f),D(x.$$.fragment,f),k=!1},d(f){f&&v(t),I(e),I(c),I(s),I(u),I(x)}}}function N(o){if(!o)return[];try{const t=JSON.parse(o.replace(/'/g,'"'));return Array.isArray(t)?t:[]}catch{return o.split(/[,;]\s*/).filter(Boolean)}}function re(o){return Ot(async()=>{const r=(await Mt("all_merged.csv")).map(e=>{const n=N(e.KeywordMatch),c=N(e.KeywordExtracted),a=N(e.ExtractedTime),s=N(e.ExtractedAge),l=N(e.ExtractedGender),u=N(e.ExtractedAction),h=N(e.ExtractedDistrict);return{...e,KeywordMatch:n,KeywordExtracted:c,ExtractedTime:a,ExtractedAge:s,ExtractedGender:l,ExtractedAction:u,ExtractedDistrict:h[0]||e.Location||"",ExtractedDate:e.ExtractedDate||e.Date}});Pt.set(r)}),[]}class fe extends $t{constructor(t){super(),vt(this,t,re,ee,pt,{})}}export{fe as component,ce as universal};
