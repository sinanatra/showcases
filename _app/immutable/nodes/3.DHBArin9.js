import{s as ht,n as M,d as jt,o as At}from"../chunks/CArxwV3n.js";import{S as pt,i as gt,d as $,s as P,m as z,b as L,c as i,e as p,f as C,g as G,h as d,n as R,j as g,k as N,l as h,C as Gt,H as Nt,t as k,a as w,o as Ct,p as Tt,q as lt,z as Kt,u as F,w as B,x as V,v as q}from"../chunks/B_uZpV_5.js";import{e as wt,f as Rt,D as Mt,K as Lt,G as Ot,T as Ht,c as It,a as Pt}from"../chunks/BKglG_9v.js";const zt=!0,oe=Object.freeze(Object.defineProperty({__proto__:null,prerender:zt},Symbol.toStringTag,{value:"Module"}));function Ft(s){let t,r="<em>No keyword sentences found.</em>";return{c(){t=g("div"),t.innerHTML=r},l(e){t=p(e,"DIV",{"data-svelte-h":!0}),R(t)!=="svelte-tjzre1"&&(t.innerHTML=r)},m(e,n){L(e,t,n)},p:M,d(e){e&&$(t)}}}function Bt(s){let t,r,e=kt(s[0].Text,s[1])+"";return{c(){t=g("div"),r=new Nt(!1),this.h()},l(n){t=p(n,"DIV",{});var c=C(t);r=Gt(c,!1),c.forEach($),this.h()},h(){r.a=null},m(n,c){L(n,t,c),r.m(e,t)},p(n,c){c&1&&e!==(e=kt(n[0].Text,n[1])+"")&&r.p(e)},d(n){n&&$(t)}}}function Vt(s){let t,r,e=s[0].Title+"",n,c,a,o,l="Date:",f,v=s[0].ExtractedDate+"",x,T,u,D="Time:",E,U=s[0].ExtractedTime.join(", ")+"",Y,st,y,O,$t="District:",ot,J=s[0].ExtractedDistrict+"",Z,it,H,vt="Gender:",ct,Q=s[0].ExtractedGender.join(", ")+"",tt,ft,A,I,xt="Keywords:",ut,W=s[0].KeywordMatch.join(", ")+"",et,_t,mt,b,dt,rt;function St(m,_){return m[2]?Bt:Ft}let X=St(s)(s);return{c(){t=g("article"),r=g("h2"),n=N(e),c=h(),a=g("p"),o=g("strong"),o.textContent=l,f=h(),x=N(v),T=h(),u=g("strong"),u.textContent=D,E=h(),Y=N(U),st=h(),y=g("p"),O=g("strong"),O.textContent=$t,ot=h(),Z=N(J),it=h(),H=g("strong"),H.textContent=vt,ct=h(),tt=N(Q),ft=h(),A=g("p"),I=g("strong"),I.textContent=xt,ut=h(),et=N(W),_t=h(),X.c(),mt=h(),b=g("a"),dt=N("Source"),this.h()},l(m){t=p(m,"ARTICLE",{class:!0});var _=C(t);r=p(_,"H2",{});var Et=C(r);n=G(Et,e),Et.forEach($),c=d(_),a=p(_,"P",{});var S=C(a);o=p(S,"STRONG",{"data-svelte-h":!0}),R(o)!=="svelte-cxiy68"&&(o.textContent=l),f=d(S),x=G(S,v),T=d(S),u=p(S,"STRONG",{"data-svelte-h":!0}),R(u)!=="svelte-ox4cyx"&&(u.textContent=D),E=d(S),Y=G(S,U),S.forEach($),st=d(_),y=p(_,"P",{});var j=C(y);O=p(j,"STRONG",{"data-svelte-h":!0}),R(O)!=="svelte-1lmnfje"&&(O.textContent=$t),ot=d(j),Z=G(j,J),it=d(j),H=p(j,"STRONG",{"data-svelte-h":!0}),R(H)!=="svelte-ah8i3p"&&(H.textContent=vt),ct=d(j),tt=G(j,Q),j.forEach($),ft=d(_),A=p(_,"P",{});var nt=C(A);I=p(nt,"STRONG",{"data-svelte-h":!0}),R(I)!=="svelte-1cgjf6c"&&(I.textContent=xt),ut=d(nt),et=G(nt,W),nt.forEach($),_t=d(_),X.l(_),mt=d(_),b=p(_,"A",{href:!0,target:!0,rel:!0});var yt=C(b);dt=G(yt,"Source"),yt.forEach($),_.forEach($),this.h()},h(){z(b,"href",rt=s[0].URL),z(b,"target","_blank"),z(b,"rel","noopener"),z(t,"class","polizei svelte-h4p151")},m(m,_){L(m,t,_),i(t,r),i(r,n),i(t,c),i(t,a),i(a,o),i(a,f),i(a,x),i(a,T),i(a,u),i(a,E),i(a,Y),i(t,st),i(t,y),i(y,O),i(y,ot),i(y,Z),i(y,it),i(y,H),i(y,ct),i(y,tt),i(t,ft),i(t,A),i(A,I),i(A,ut),i(A,et),i(t,_t),X.m(t,null),i(t,mt),i(t,b),i(b,dt)},p(m,[_]){_&1&&e!==(e=m[0].Title+"")&&P(n,e),_&1&&v!==(v=m[0].ExtractedDate+"")&&P(x,v),_&1&&U!==(U=m[0].ExtractedTime.join(", ")+"")&&P(Y,U),_&1&&J!==(J=m[0].ExtractedDistrict+"")&&P(Z,J),_&1&&Q!==(Q=m[0].ExtractedGender.join(", ")+"")&&P(tt,Q),_&1&&W!==(W=m[0].KeywordMatch.join(", ")+"")&&P(et,W),X.p(m,_),_&1&&rt!==(rt=m[0].URL)&&z(b,"href",rt)},i:M,o:M,d(m){m&&$(t),X.d()}}}function qt(s){return s.match(/[^\\.?!]+[\\.?!]+/g)||[s]}function kt(s,t){let r=s;return t.forEach(e=>{const n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),c=new RegExp(`(${n})`,"gi");r=r.replace(c,'<span class="highlight">$1</span>')}),r}function Ut(s,t,r){let{article:e}=t;const n=e.KeywordExtracted||[],o=qt(e.Text).filter(l=>n.some(f=>new RegExp(f,"i").test(l))).join(" ");return s.$$set=l=>{"article"in l&&r(0,e=l.article)},[e,n,o]}class Jt extends pt{constructor(t){super(),gt(this,t,Ut,Vt,ht,{article:0})}}function Dt(s,t,r){const e=s.slice();return e[4]=t[r],e}function Qt(s){let t,r,e=wt(s[0].sort(s[2])),n=[];for(let a=0;a<e.length;a+=1)n[a]=bt(Dt(s,e,a));const c=a=>k(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=lt()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);t=lt()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);L(a,t,o),r=!0},p(a,o){if(o&1){e=wt(a[0].sort(a[2]));let l;for(l=0;l<e.length;l+=1){const f=Dt(a,e,l);n[l]?(n[l].p(f,o),w(n[l],1)):(n[l]=bt(f),n[l].c(),w(n[l],1),n[l].m(t.parentNode,t))}for(Ct(),l=e.length;l<n.length;l+=1)c(l);Tt()}},i(a){if(!r){for(let o=0;o<e.length;o+=1)w(n[o]);r=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)k(n[o]);r=!1},d(a){a&&$(t),Kt(n,a)}}}function Wt(s){let t,r="No articles match the selected filters.";return{c(){t=g("p"),t.textContent=r},l(e){t=p(e,"P",{"data-svelte-h":!0}),R(t)!=="svelte-1fy3yok"&&(t.textContent=r)},m(e,n){L(e,t,n)},p:M,i:M,o:M,d(e){e&&$(t)}}}function bt(s){let t,r;return t=new Jt({props:{article:s[4]}}),{c(){q(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,n){B(t,e,n),r=!0},p(e,n){const c={};n&1&&(c.article=e[4]),t.$set(c)},i(e){r||(w(t.$$.fragment,e),r=!0)},o(e){k(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function Xt(s){let t,r,e,n;const c=[Wt,Qt],a=[];function o(l,f){return l[0].length===0?0:1}return t=o(s),r=a[t]=c[t](s),{c(){r.c(),e=lt()},l(l){r.l(l),e=lt()},m(l,f){a[t].m(l,f),L(l,e,f),n=!0},p(l,[f]){let v=t;t=o(l),t===v?a[t].p(l,f):(Ct(),k(a[v],1,1,()=>{a[v]=null}),Tt(),r=a[t],r?r.p(l,f):(r=a[t]=c[t](l),r.c()),w(r,1),r.m(e.parentNode,e))},i(l){n||(w(r),n=!0)},o(l){k(r),n=!1},d(l){l&&$(e),a[t].d(l)}}}let Yt="01.01.2024";function at(s){if(!s)return new Date(0);const[t,r,e]=s.split(".");return new Date(+e,+r-1,+t)}function Zt(s,t,r){let e,n;jt(s,Rt,o=>r(1,n=o));let c=at(Yt);const a=(o,l)=>at(l.Date)-at(o.Date);return s.$$.update=()=>{s.$$.dirty&2&&r(0,e=n.filter(o=>at(o.Date)>=c)),s.$$.dirty&1&&console.log(e)},[e,n,a]}class te extends pt{constructor(t){super(),gt(this,t,Zt,Xt,ht,{})}}function ee(s){let t,r,e,n,c,a,o,l,f,v,x,T;return e=new Mt({}),c=new Lt({}),o=new Ot({}),f=new Ht({}),x=new te({}),{c(){t=g("main"),r=g("div"),q(e.$$.fragment),n=h(),q(c.$$.fragment),a=h(),q(o.$$.fragment),l=h(),q(f.$$.fragment),v=h(),q(x.$$.fragment),this.h()},l(u){t=p(u,"MAIN",{});var D=C(t);r=p(D,"DIV",{class:!0});var E=C(r);V(e.$$.fragment,E),n=d(E),V(c.$$.fragment,E),a=d(E),V(o.$$.fragment,E),l=d(E),V(f.$$.fragment,E),E.forEach($),v=d(D),V(x.$$.fragment,D),D.forEach($),this.h()},h(){z(r,"class","filters svelte-ta5ay6")},m(u,D){L(u,t,D),i(t,r),B(e,r,null),i(r,n),B(c,r,null),i(r,a),B(o,r,null),i(r,l),B(f,r,null),i(t,v),B(x,t,null),T=!0},p:M,i(u){T||(w(e.$$.fragment,u),w(c.$$.fragment,u),w(o.$$.fragment,u),w(f.$$.fragment,u),w(x.$$.fragment,u),T=!0)},o(u){k(e.$$.fragment,u),k(c.$$.fragment,u),k(o.$$.fragment,u),k(f.$$.fragment,u),k(x.$$.fragment,u),T=!1},d(u){u&&$(t),F(e),F(c),F(o),F(f),F(x)}}}function K(s){if(!s)return[];try{const t=JSON.parse(s.replace(/'/g,'"'));return Array.isArray(t)?t:[]}catch{return s.split(/[,;]\s*/).filter(Boolean)}}function re(s){return At(async()=>{const r=(await It("parsed.csv")).map(e=>{const n=K(e.KeywordMatch),c=K(e.KeywordExtracted),a=K(e.ExtractedTime),o=K(e.ExtractedAge),l=K(e.ExtractedGender),f=K(e.ExtractedAction),v=K(e.ExtractedDistrict);return{...e,KeywordMatch:n,KeywordExtracted:c,ExtractedTime:a,ExtractedAge:o,ExtractedGender:l,ExtractedAction:f,ExtractedDistrict:v[0]||e.Location||"",ExtractedDate:e.ExtractedDate||e.Date}});Pt.set(r)}),[]}class ie extends pt{constructor(t){super(),gt(this,t,re,ee,ht,{})}}export{ie as component,oe as universal};
