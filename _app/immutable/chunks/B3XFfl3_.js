import{d as o,w as f}from"./DcXEcOzd.js";const y={antisemitisch:"antisemitismus",antisemitismus:"antisemitismus",nationalsozialismus:"nationalsozialismus",nationalsozialistisch:"nationalsozialismus",nationalsozialistische:"nationalsozialismus",rechtsextremisch:"rechtsextremismus",rechtsextremistisch:"rechtsextremismus",rassistisch:"rassismus",rassismus:"rassismus",fremdenfeindlich:"fremdenfeindlich",hakenkreuz:"hakenkreuz",hitlergruß:"hitlergruß",homophobie:"homophobie","mit politischem hintergrund":"mit politischem hintergrund",nazi:"nazi",queerfeindlichkeit:"queerfeindlichkeit","sieg heil":"sieg heil",transphobie:"transphobie",verfassungswidrig:"verfassungswidrig",volksverhetzung:"volksverhetzung"};Array.from(new Set(Object.values(y))).sort((i,e)=>i.localeCompare(e,"de"));const p={frau:"Adult Female",mann:"Adult Male",junge:"Youth",mädchen:"Youth",jugendliche:"Youth"},d=f([]),l=f({district:"",keyword:"",gender:"",timeCluster:"",text:"",showOnlyLatest:!1});function g(i){if(!i)return[];const e=Object.entries(y).filter(([,t])=>t===i).map(([t])=>t);return Array.from(new Set([...e,i]))}const h=new Map;function w(i){if(!i)return null;const e=String(i).trim().replace(/,/g,"");if(!e)return null;if(h.has(e))return h.get(e);let t=null;const r=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(r){const[,s,n,a]=r;t=new Date(Number(s),Number(n)-1,Number(a))}else{const s=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{2}|\d{4})$/);if(s){let[,n,a,c]=s,m=Number(c);c.length===2&&(m+=m>=70?1900:2e3),t=new Date(m,Number(a)-1,Number(n))}}if(!t||isNaN(+t)){const s=new Date(e);t=isNaN(+s)?null:s}return h.set(e,t),t}function u(i,{district:e,keyword:t},r){const s=t?g(t):[];return(Array.isArray(i)?i:[]).filter(n=>!(r!=="district"&&e&&n.ExtractedDistrict!==e||r!=="keyword"&&t&&!(Array.isArray(n.KeywordMatch)&&n.KeywordMatch.some(a=>s.map(String).map(c=>c.toLowerCase()).includes(String(a).toLowerCase())))))}const C=o([d,l],([i,e])=>{const t=u(i,e,"district");return Array.from(new Set(t.map(r=>r.ExtractedDistrict).filter(Boolean))).sort()}),D=o([d,l],([i,e])=>{const r=u(i,e,"gender").flatMap(s=>Array.isArray(s.ExtractedGender)?s.ExtractedGender:[]).map(s=>p[String(s).toLowerCase()]||"Other");return Array.from(new Set(r)).filter(Boolean).sort()}),E=o([d,l],([i,e])=>{const t=u(i,e,"timeCluster"),r=new Set;return t.forEach(s=>(Array.isArray(s.ExtractedTime)?s.ExtractedTime:[]).forEach(n=>{const a=Number(String(n).split(":")[0]),c=a>=6&&a<12?"Morning":a>=12&&a<18?"Afternoon":a>=18&&a<24?"Evening":"Night";r.add(c)})),Array.from(r).sort()}),S=o([d,l],([i,e])=>u(Array.isArray(i)?i:[],e,null)),b=300,A=o(d,i=>[...Array.isArray(i)?i:[]].sort((r,s)=>{const n=w(r.ExtractedDate||r.Date),a=w(s.ExtractedDate||s.Date);return n&&a?a-n:a?1:n?-1:0}).slice(0,b)),v=o([A,l],([i,e])=>{let t=i;if(e.district&&(t=t.filter(r=>r.ExtractedDistrict===e.district)),e.keyword){const r=g(e.keyword).map(String).map(s=>s.toLowerCase());t=t.filter(s=>Array.isArray(s.KeywordMatch)&&s.KeywordMatch.some(n=>r.includes(String(n).toLowerCase())))}if(e.text){const r=e.text.toLowerCase();t=t.filter(s=>(s.Text||"").toLowerCase().includes(r))}return e.showOnlyLatest?t.length?[t[0]]:[]:t}),N=o([A,l],([i,e])=>{let t=i;if(e.district&&(t=t.filter(r=>r.ExtractedDistrict===e.district)),e.text){const r=e.text.toLowerCase();t=t.filter(s=>(s.Text||"").toLowerCase().includes(r))}return Array.from(new Set(t.flatMap(r=>Array.isArray(r.KeywordMatch)?r.KeywordMatch:[]).map(r=>y[String(r).toLowerCase()]||String(r)))).filter(Boolean).sort((r,s)=>r.localeCompare(s,"de"))}),L=f(!1);export{d as a,l as b,C as c,N as d,D as e,S as f,E as g,v as h,L as r};
